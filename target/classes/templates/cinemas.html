<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: site-head">
</head>
<body>

	<header th:replace="layout :: site-header" /></header>

	<div sec:authorize="hasAuthority('ADMIN')">

		LOGGED IN AS ADMIN.

		<button onclick="location.href='/cinemas/cinema-create'" type="button" class="btn btn-primary">Add Cinema</button>
		 

	</div>

	<div sec:authorize="!hasAuthority('ADMIN')">NOT ADMIN</div>

	<div class="container">

		<tr th:each="cinema : ${cinemas}">
			<div style="background-color: lightgrey;">

				<a th:href="${'/cinemas/' + cinema.id}"><h2>
						<td th:text="${cinema.name}"></td>
					</h2></a>
				<p>
					<td th:text="${cinema.address}"></td>
				</p>
				<p>
					<td th:text="${cinema.latitude}"></td>
				</p>
				<p>
					<td th:text="${cinema.longitude}"></td>
				</p>

			</div>

			<div sec:authorize="hasAuthority('ADMIN')">
			
				<a th:href="@{/showtimes/showtime-create(cinemaId=${cinema.id})}" class="btn btn-success">Add showtimes</a>
				<a th:href="@{/cinemas/auditorium-create(cinemaId=${cinema.id})}" class="btn btn-primary">Add auditorium</a>
					<a th:href="@{/cinemas/cinema-delete(cinemaId=${cinema.id})}" class="btn btn-danger">Delete</a>
					<a th:href="@{/cinemas/cinema-update(cinemaId=${cinema.id})}" class="btn btn-danger">Update</a>
				
			</div>
		</tr>


		<br>

		<footer th:replace="layout :: site-footer" /></footer>
</body>
</html>