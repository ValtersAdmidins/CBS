<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:fragment="site-head">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" th:href="@{/css/seatmapstyling.css}" href="../static/css/seatmapstyling.css">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

	<header th:fragment="site-header">
		<div sec:authorize="hasAuthority('ADMIN')">

			<nav class="navbar navbar-default navbar-inverse" role="navigation">
				<div class="container-fluid">
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/">CBS</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav">
							<li class="active"><a href="/">Movies</a></li>
							<li><a href="/cinemas">Cinemas</a></li>
							<li><a href="/auditories">Auditories</a></li>
							<li><a href="/admin/users">Users</a></li>
							<li><a href="/showtimes">Showtimes</a></li>
							
						</ul>

						<div sec:authorize="isAuthenticated()">
							<form th:action="@{/logout}" method="get">
								<button class="btn btn-md btn-danger btn-block" name="registration" type="Submit">Logout</button>
							</form>
						</div>

					</div>
					<!-- /.navbar-collapse -->
				</div>
				<!-- /.container-fluid -->
			</nav>
		</div>

		<div sec:authorize="!hasAuthority('ADMIN')">

			<nav class="navbar navbar-default navbar-inverse" role="navigation">
				<div class="container-fluid">
					<!-- 					Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
							<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/">CBS</a>
					</div>

					<!-- 					Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav">
							<li class="active"><a href="/">Movies</a></li>
							<li><a href="/cinemas">Cinemas</a></li>
						</ul>

						<div sec:authorize="isAuthenticated()">
						
							<form th:action="@{/logout}" method="get">
								<button class="btn btn-md btn-danger btn-block" name="registration" type="Submit">Logout</button>
							</form>
						</div>
						<br> <br>
						<div class="container">
							<form th:action="@{/}" method="POST" class="form-signin">
								<h3 class="form-signin-heading" th:text="Welcome"></h3>
								<br /> <input type="text" id="email" name="email" th:placeholder="Email" class="form-control" /> <br /> 
								<input type="password" th:placeholder="Password" id="password"
									name="password" class="form-control" /> <br />

								<div align="center" th:if="${param.error}">
									<p style="font-size: 20; color: #FF1C19;">Email or Password invalid, please verify</p>
								</div>
								<button class="btn btn-lg btn-primary btn-block" name="Submit" value="Login" type="Submit" th:text="Login"></button>
							</form>
							<a href="/registration">Sign up</a>
						</div>

						<div sec:authorize="hasAuthority('USER')">
							<div class="container float-right">
								<a th:href="@{/userProfile}" class="btn btn-danger">Your profile</a>
							</div>
						</div>

					</div>
					<!-- 					/.navbar-collapse -->
				</div>
				<!-- 				/.container-fluid -->
			</nav>
		</div>
		
		
	<div sec:authorize="hasAuthority('USER')">
 		<a th:href="@{/userProfile(userId=${user.id})}" class="btn btn-danger">My profile</a>
 	


	</div>
	
	
	
	</header>


	<footer th:fragment="site-footer"> &copy;CBS </footer>
</body>
</html>