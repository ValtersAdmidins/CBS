<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: site-head">
</head>
<script src="/js/buyaticketscript.js" /></script>
<script src="/js/scrt.js" /></script>
<body th:onload="'stringToView(\'' + ${auditoriumString} + '\');'">
	<header th:replace="layout :: site-header" /></header>

	<h2>Please select a seat</h2>

	<div style="margin-left: auto; margin-right: auto; width: 50%;">
		<div>
			<h3 style="text-align: center;">SCREEN</h3>
		</div>


		<div id="stringauditorium"></div>

		<form action="#" th:action="@{/showtimes/showtime-edit(column=${4}, row=${4})}" th:object="${showtime}" method="post">

			<input type="hidden" th:field="*{id}"> <input type="hidden" th:field="*{cinema}"> <input type="hidden" th:field="*{movie}"> <input type="hidden"
				th:field="*{auditorium}"> <input type="hidden" value="" th:field="*{takenSeats}" id="newseatmapstring">

			<div style="width: 50%; margin-left: auto; margin-right: auto;">
				<h3>
					Movie:
					<p th:text="${movie.title}"></p>
				</h3>

				<h3>Chosen seats:</h3>
				<div id="chosenseats"></div>
				<h3>
					Tickets: <span id="counter">0</span>
				</h3>

				<h3>
					Total: <span id="total">0</span>
				</h3>

				<div sec:authorize="isAuthenticated()">

					<input type="submit" value="Buy Tickets">

				</div>

				<div sec:authorize="!isAuthenticated()">Please login to buy a ticket.</div>
		</form>



	</div>

	<footer th:replace="layout :: site-footer" /></footer>
</body>
</html>