<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="layout :: site-head">
</head>
<body>

	<header th:replace="layout :: site-header" /></header>

	<div sec:authorize="hasAuthority('ADMIN')">

		LOGGED IN AS ADMIN.

		<button onclick="location.href='/admin/movie-create'" type="button" class="btn btn-primary">Add Movie</button>

	</div>

	<div sec:authorize="!hasAuthority('ADMIN')">NOT ADMIN</div>

	<div class="container">

		<tr th:each="movie : ${movies}">
			<div style="background-color: lightgrey;">

				<a th:href="@{/movies/{movieId} (movieId=${movie.id})}"><h2>
						<td th:text="${movie.title}"></td>
					</h2></a>
				<p>
					<td th:text="${movie.plot}"></td>
				</p>
				<label>Genre: </label>
				<td th:text="${movie.genres}"></td> <br> <label>Age limit: </label>
				<td th:text="${movie.ageLimit}"></td> <br> <label>Language: </label>
				<td th:text="${movie.language}"></td> <br> <label>Subtitles: </label>
				<td th:text="${movie.subtitles}"></td> <br> <label>Movie length in minutes: </label>
				<td th:text="${movie.movieLengthMinutes}"></td> <br>

			</div>

			<div sec:authorize="hasAuthority('ADMIN')">

				<!-- 				<button onclick="location.href='/movies/movie-delete'" type="button" class="btn btn-primary">Delete Movie</button> -->

				<a th:href="@{/admin/movie-delete(movieId=${movie.id})}" class="btn btn-danger">Delete</a> <a th:href="@{/admin/movie-edit(movieId=${movie.id})}" class="btn btn-info">Edit</a>
				<!--  -->
			</div>

		</tr>
	</div>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>
	<br>

	<footer th:replace="layout :: site-footer" /></footer>

</body>
</html>